<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç§»åŠ¨ç«¯ä¿®å¤éªŒè¯</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            margin: 0;
            min-height: 100vh;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .btn {
            width: 100%;
            padding: 16px 24px;
            margin: 12px 0;
            background: linear-gradient(135deg, #0d6efd, #4a90e2);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.1s ease;
            pointer-events: auto !important;
            touch-action: manipulation !important;
            -webkit-tap-highlight-color: transparent !important;
            -webkit-touch-callout: none !important;
            user-select: none !important;
            -webkit-user-select: none !important;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn:active {
            transform: scale(0.98);
        }
        
        .theme-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid #0d6efd;
            color: #0d6efd;
            padding: 12px 16px;
            border-radius: 50px;
            cursor: pointer;
            z-index: 10000;
            pointer-events: auto !important;
            touch-action: manipulation !important;
            -webkit-tap-highlight-color: transparent !important;
            -webkit-touch-callout: none !important;
            user-select: none !important;
            -webkit-user-select: none !important;
            min-height: 44px;
            min-width: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 500;
        }
        
        .theme-btn:active {
            transform: scale(0.95);
        }
        
        .input {
            width: 100%;
            padding: 12px 16px;
            margin: 12px 0;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            pointer-events: auto !important;
            touch-action: manipulation !important;
            -webkit-appearance: none;
            appearance: none;
            user-select: text !important;
            -webkit-user-select: text !important;
        }
        
        .status {
            margin: 16px 0;
            padding: 12px;
            border-radius: 8px;
            font-weight: 500;
            display: none;
        }
        
        .status.show {
            display: block;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .info {
            background: #e7f3ff;
            border: 1px solid #b8daff;
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
        }
        
        .info h3 {
            color: #0d6efd;
            margin-top: 0;
        }
        
        .device-info {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            margin: 16px 0;
            font-family: monospace;
            font-size: 12px;
            border: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
    <div class="theme-btn" id="themeBtn">ğŸŒ ä¸»é¢˜</div>

    <div class="container">
        <h1>ğŸ”§ ç§»åŠ¨ç«¯ä¿®å¤éªŒè¯</h1>
        <p>æµ‹è¯•ç§»åŠ¨ç«¯å’Œå¹³æ¿ç«¯çš„ç‚¹å‡»ã€è§¦æ‘¸ã€ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ä¿®å¤æ•ˆæœ</p>
        
        <div class="info">
            <h3>ğŸ¯ ä¿®å¤çš„é—®é¢˜ï¼š</h3>
            <ul>
                <li>âœ… ç§»åŠ¨ç«¯ä¸‹è½½æŒ‰é’®ç‚¹å‡»æ— æ•ˆ</li>
                <li>âœ… ä¸»é¢˜åˆ‡æ¢æŒ‰é’®æ— å“åº”</li>
                <li>âœ… å¹³æ¿ç«¯è§¦æ‘¸äº¤äº’é—®é¢˜</li>
                <li>âœ… CSSå±‚çº§å†²çªå¯¼è‡´çš„ç‚¹å‡»å¤±æ•ˆ</li>
                <li>âœ… éŸ³é¢‘å…¼å®¹æ€§å¤„ç†</li>
            </ul>
        </div>
        
        <input type="text" class="input" id="testInput" placeholder="æµ‹è¯•è¾“å…¥æ¡†åŠŸèƒ½">
        
        <button class="btn" id="downloadBtn">
            ğŸ“¥ æµ‹è¯•ä¸‹è½½æŒ‰é’®
        </button>
        
        <button class="btn" id="fileBtn">
            ğŸ“„ æµ‹è¯•æ–‡ä»¶ä¸‹è½½æŒ‰é’®
        </button>
        
        <button class="btn" id="otherBtn">
            ğŸ¯ æµ‹è¯•å…¶ä»–åŠŸèƒ½æŒ‰é’®
        </button>
        
        <div class="status" id="status"></div>
        
        <div class="device-info" id="deviceInfo">
            <strong>è®¾å¤‡ä¿¡æ¯ï¼š</strong><br>
            <span id="deviceType">æ£€æµ‹ä¸­...</span><br>
            <span id="userAgent">åŠ è½½ä¸­...</span>
        </div>
        
        <div class="info">
            <h3>ğŸ“‹ æµ‹è¯•æŒ‡å—ï¼š</h3>
            <ol>
                <li><strong>ä¸»é¢˜åˆ‡æ¢ï¼š</strong>ç‚¹å‡»å³ä¸Šè§’ğŸŒæŒ‰é’®</li>
                <li><strong>ä¸‹è½½æµ‹è¯•ï¼š</strong>ç‚¹å‡»å„ä¸ªä¸‹è½½æŒ‰é’®</li>
                <li><strong>è¾“å…¥æµ‹è¯•ï¼š</strong>åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ–‡å­—</li>
                <li><strong>è§¦æ‘¸åé¦ˆï¼š</strong>è§‚å¯ŸæŒ‰é’®æŒ‰ä¸‹æ•ˆæœ</li>
            </ol>
            <p><strong>é¢„æœŸç»“æœï¼š</strong>æ‰€æœ‰æŒ‰é’®éƒ½åº”è¯¥æœ‰å³æ—¶å“åº”ï¼Œæ— å»¶è¿Ÿæˆ–å¤±æ•ˆ</p>
        </div>
    </div>

    <script>
        // çŠ¶æ€æ˜¾ç¤ºå‡½æ•°
        function showStatus(message, type = 'success', duration = 3000) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = `status ${type} show`;
            
            setTimeout(() => {
                status.classList.remove('show');
            }, duration);
        }
        
        // è®¾å¤‡æ£€æµ‹
        const userAgent = navigator.userAgent;
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);
        const isTablet = /iPad|Android.*tablet|PlayBook|Silk/i.test(userAgent);
        const isIOS = /iPad|iPhone|iPod/.test(userAgent);
        const isAndroid = /Android/i.test(userAgent);
        
        // æ˜¾ç¤ºè®¾å¤‡ä¿¡æ¯
        document.getElementById('deviceType').textContent = 
            isMobile ? (isTablet ? 'å¹³æ¿è®¾å¤‡' : 'æ‰‹æœºè®¾å¤‡') : 'æ¡Œé¢è®¾å¤‡';
        document.getElementById('userAgent').textContent = userAgent;
        
        console.log('ğŸ” è®¾å¤‡æ£€æµ‹ç»“æœ:', {
            isMobile,
            isTablet,
            isIOS,
            isAndroid,
            userAgent
        });
        
        // ä¸»é¢˜åˆ‡æ¢æŒ‰é’®æµ‹è¯•
        const themeBtn = document.getElementById('themeBtn');
        
        // ç¡®ä¿æŒ‰é’®å¯ç‚¹å‡»
        function ensureClickable(element) {
            element.style.pointerEvents = 'auto';
            element.style.touchAction = 'manipulation';
            element.style.webkitTapHighlightColor = 'transparent';
            element.style.webkitTouchCallout = 'none';
            element.style.userSelect = 'none';
            element.style.webkitUserSelect = 'none';
        }
        
        ensureClickable(themeBtn);
        
        // ç‚¹å‡»äº‹ä»¶
        themeBtn.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            console.log('âœ… ä¸»é¢˜æŒ‰é’®ç‚¹å‡»æˆåŠŸ');
            showStatus('ğŸŒ ä¸»é¢˜åˆ‡æ¢æŒ‰é’®å“åº”æ­£å¸¸ï¼ä¿®å¤æˆåŠŸ', 'success');
        });
        
        // è§¦æ‘¸äº‹ä»¶
        themeBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            themeBtn.style.transform = 'scale(0.95)';
            console.log('ğŸ‘† ä¸»é¢˜æŒ‰é’®è§¦æ‘¸å¼€å§‹');
        }, { passive: false });
        
        themeBtn.addEventListener('touchend', (e) => {
            e.preventDefault();
            themeBtn.style.transform = '';
            console.log('ğŸ‘† ä¸»é¢˜æŒ‰é’®è§¦æ‘¸ç»“æŸ');
        }, { passive: false });
        
        // ä¸‹è½½æŒ‰é’®æµ‹è¯•
        const downloadBtn = document.getElementById('downloadBtn');
        ensureClickable(downloadBtn);
        
        downloadBtn.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            console.log('âœ… ä¸‹è½½æŒ‰é’®ç‚¹å‡»æˆåŠŸ');
            
            if (isMobile) {
                showStatus('ğŸ“± ç§»åŠ¨ç«¯ä¸‹è½½æŒ‰é’®æ­£å¸¸ï¼éŸ³é¢‘å°†è‡ªåŠ¨ä¿®å¤', 'success');
            } else {
                showStatus('ğŸ’» PCç«¯ä¸‹è½½æŒ‰é’®æ­£å¸¸ï¼', 'success');
            }
        });
        
        // æ–‡ä»¶ä¸‹è½½æŒ‰é’®æµ‹è¯•
        const fileBtn = document.getElementById('fileBtn');
        ensureClickable(fileBtn);
        
        fileBtn.addEventListener('click', (e) => {
            e.preventDefault();
            console.log('âœ… æ–‡ä»¶ä¸‹è½½æŒ‰é’®ç‚¹å‡»æˆåŠŸ');
            showStatus('ğŸ“„ æ–‡ä»¶ä¸‹è½½æŒ‰é’®å“åº”æ­£å¸¸ï¼', 'success');
        });
        
        // å…¶ä»–åŠŸèƒ½æŒ‰é’®æµ‹è¯•
        const otherBtn = document.getElementById('otherBtn');
        ensureClickable(otherBtn);
        
        otherBtn.addEventListener('click', (e) => {
            e.preventDefault();
            console.log('âœ… å…¶ä»–åŠŸèƒ½æŒ‰é’®ç‚¹å‡»æˆåŠŸ');
            showStatus('ğŸ¯ å…¶ä»–åŠŸèƒ½æŒ‰é’®æ­£å¸¸å·¥ä½œï¼', 'success');
        });
        
        // è¾“å…¥æ¡†æµ‹è¯•
        const testInput = document.getElementById('testInput');
        testInput.addEventListener('input', (e) => {
            if (e.target.value.length > 0) {
                console.log('âœ… è¾“å…¥æ¡†æ­£å¸¸å·¥ä½œ:', e.target.value);
                showStatus('âŒ¨ï¸ è¾“å…¥æ¡†åŠŸèƒ½æ­£å¸¸ï¼', 'success');
            }
        });
        
        // ä¸ºæ‰€æœ‰æŒ‰é’®æ·»åŠ è§¦æ‘¸åé¦ˆ
        document.querySelectorAll('.btn').forEach(btn => {
            ensureClickable(btn);
            
            btn.addEventListener('touchstart', function() {
                this.style.transform = 'scale(0.98)';
                console.log('ğŸ‘† æŒ‰é’®è§¦æ‘¸å¼€å§‹:', this.textContent.trim());
            }, { passive: true });
            
            btn.addEventListener('touchend', function() {
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
                console.log('ğŸ‘† æŒ‰é’®è§¦æ‘¸ç»“æŸ:', this.textContent.trim());
            }, { passive: true });
        });
        
        // åˆå§‹åŒ–å®Œæˆæç¤º
        window.addEventListener('load', () => {
            setTimeout(() => {
                if (isMobile) {
                    showStatus(`ğŸ“± ${isTablet ? 'å¹³æ¿' : 'æ‰‹æœº'}è®¾å¤‡æµ‹è¯•ç¯å¢ƒå·²å‡†å¤‡å°±ç»ª`, 'success');
                } else {
                    showStatus('ğŸ’» æ¡Œé¢è®¾å¤‡æµ‹è¯•ç¯å¢ƒå·²å‡†å¤‡å°±ç»ª', 'success');
                }
            }, 500);
        });
        
        // é”™è¯¯ç›‘å¬
        window.addEventListener('error', (e) => {
            console.error('âŒ é¡µé¢é”™è¯¯:', e.error);
            showStatus('âŒ æ£€æµ‹åˆ°é”™è¯¯ï¼Œè¯·æŸ¥çœ‹æ§åˆ¶å°', 'error');
        });
        
        window.addEventListener('unhandledrejection', (e) => {
            console.error('âŒ æœªå¤„ç†çš„Promiseé”™è¯¯:', e.reason);
            showStatus('âŒ æ£€æµ‹åˆ°Promiseé”™è¯¯', 'error');
        });
        
        console.log('ğŸ¯ ç§»åŠ¨ç«¯ä¿®å¤éªŒè¯é¡µé¢åˆå§‹åŒ–å®Œæˆ');
        console.log('ğŸ“± å½“å‰è®¾å¤‡ç±»å‹:', isMobile ? (isTablet ? 'å¹³æ¿' : 'æ‰‹æœº') : 'æ¡Œé¢');
    </script>
</body>
</html>
